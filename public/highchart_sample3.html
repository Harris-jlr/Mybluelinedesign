<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Highchart samples</title>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <link rel="stylesheet" type="text/css"
  href="https://github.s3.amazonaws.com/downloads/lafeber/world-flags-sprite/flags32.css" />
  <script src="https://cdn.tailwindcss.com"></script>
    <style>
    #container {
  min-width: 310px;
  max-width: 800px;
  height: 400px;
  margin: 0 auto;
}

.buttons {
  min-width: 310px;
  text-align: center;
  margin-bottom: 1.5rem;
  font-size: 0;
}

.buttons button {
  cursor: pointer;
  border: 1px solid silver;
  border-right-width: 0;
  background-color: #f8f8f8;
  font-size: 1rem;
  padding: 0.5rem;
  transition-duration: 0.3s;
  margin: 0;
}

.buttons button:first-child {
  border-top-left-radius: 0.3em;
  border-bottom-left-radius: 0.3em;
}

.buttons button:last-child {
  border-top-right-radius: 0.3em;
  border-bottom-right-radius: 0.3em;
  border-right-width: 1px;
}

.buttons button:hover {
  color: white;
  background-color: rgb(158 159 163);
  outline: none;
}

.buttons button.active {
  background-color: #0051b4;
  color: white;
}
    </style>

</head>
<body>

<!-- our header -->
 <div class="bg-gray-900 w-screen h-18 text-md p-2 m-0 text-white shadow-lg z-50" id="trin_header">
  <div class="absolute top-6 right-0 text-right text-white text-md mr-12"><a href="/samples4trinity.html">Next Sample</a></div>
  <div class="box-logo">
        <a href="/samples4trinity.html">
            <img width="215" height="28" src="/assets/trinsightLogo_White.png" alt="TrinityRail" data-lazy-src="https://www.trinityrail.com/wp-content/themes/trinrail/images/trinityrail-logo.svg" data-ll-status="loaded" class="entered lazyloaded"><noscript><img width="215" height="28" src="https://www.trinityrail.com/wp-content/themes/trinrail/images/trinityrail-logo.svg" alt="TrinityRail"></noscript>
        </a>
    </div>
</div>  
<div class="absolute bottom-0 left-0 min-h-screen w-12 bg-gray-900 -z-50 shadow-lg"></div>
<div class="px-12">


    <h1 class="font-bold text-4xl text-blue-900 py-4 px-6 m-2">HIGHCHART SAMPLE</h1>
<!-- end of our sample header  --> 
   <div class="flex">
        <div class="flex flex-wrap flex-row w-full">
            
            <div class="flex flex-col w-4/5 px-4 h-128">
              <!-- This is our Flex container to show how we can arrange the samples on that page based on their container-->
              <link rel="stylesheet" type="text/css" href="https://github.s3.amazonaws.com/downloads/lafeber/world-flags-sprite/flags32.css">

              <div class="buttons">
                <button id="2000">
                2000
                </button>
                <button id="2004">
                2004
                </button>
                <button id="2008">
                2008
                </button>
                <button id="2012">
                2012
                </button>
                <button id="2016" class="active">
                2016
                </button>
              </div>

            </div>
           
        </div>
    </div>
</div>
<script>
    const dataPrev = {
  2016: [
    ['South Korea', 0],
    ['Japan', 0],
    ['Australia', 0],
    ['Germany', 11],
    ['Russia', 24],
    ['China', 38],
    ['Great Britain', 29],
    ['United States', 46]
  ],
  2012: [
    ['South Korea', 13],
    ['Japan', 0],
    ['Australia', 0],
    ['Germany', 0],
    ['Russia', 22],
    ['China', 51],
    ['Great Britain', 19],
    ['United States', 36]
  ],
  2008: [
    ['South Korea', 0],
    ['Japan', 0],
    ['Australia', 0],
    ['Germany', 13],
    ['Russia', 27],
    ['China', 32],
    ['Great Britain', 9],
    ['United States', 37]
  ],
  2004: [
    ['South Korea', 0],
    ['Japan', 5],
    ['Australia', 16],
    ['Germany', 0],
    ['Russia', 32],
    ['China', 28],
    ['Great Britain', 0],
    ['United States', 36]
  ],
  2000: [
    ['South Korea', 0],
    ['Japan', 0],
    ['Australia', 9],
    ['Germany', 20],
    ['Russia', 26],
    ['China', 16],
    ['Great Britain', 0],
    ['United States', 44]
  ]
};

const data = {
  2016: [
    ['South Korea', 0],
    ['Japan', 0],
    ['Australia', 0],
    ['Germany', 17],
    ['Russia', 19],
    ['China', 26],
    ['Great Britain', 27],
    ['United States', 46]
  ],
  2012: [
    ['South Korea', 13],
    ['Japan', 0],
    ['Australia', 0],
    ['Germany', 0],
    ['Russia', 24],
    ['China', 38],
    ['Great Britain', 29],
    ['United States', 46]
  ],
  2008: [
    ['South Korea', 0],
    ['Japan', 0],
    ['Australia', 0],
    ['Germany', 16],
    ['Russia', 22],
    ['China', 51],
    ['Great Britain', 19],
    ['United States', 36]
  ],
  2004: [
    ['South Korea', 0],
    ['Japan', 16],
    ['Australia', 17],
    ['Germany', 0],
    ['Russia', 27],
    ['China', 32],
    ['Great Britain', 0],
    ['United States', 37]
  ],
  2000: [
    ['South Korea', 0],
    ['Japan', 0],
    ['Australia', 16],
    ['Germany', 13],
    ['Russia', 32],
    ['China', 28],
    ['Great Britain', 0],
    ['United States', 36]
  ]
};

const countries = [{
  name: 'South Korea',
  flag: 'kr',
  color: 'rgb(201, 36, 39)'
}, {
  name: 'Japan',
  flag: 'jp',
  color: 'rgb(201, 36, 39)'
}, {
  name: 'Australia',
  flag: 'au',
  color: 'rgb(0, 82, 180)'
}, {
  name: 'Germany',
  flag: 'de',
  color: 'rgb(0, 0, 0)'
}, {
  name: 'Russia',
  flag: 'ru',
  color: 'rgb(240, 240, 240)'
}, {
  name: 'China',
  flag: 'cz',
  color: 'rgb(255, 217, 68)'
}, {
  name: 'Great Britain',
  flag: 'gb',
  color: 'rgb(0, 82, 180)'
}, {
  name: 'United States',
  flag: 'us',
  color: 'rgb(215, 0, 38)'
}];


const getData = data => data.map((country, i) => ({
  name: country[0],
  y: country[1],
  color: countries[i].color
}));

const chart = Highcharts.chart('container', {
  chart: {
    type: 'column'
  },
  title: {
    text: 'Summer Olympics 2016 - Top 5 countries by Gold medals',
    align: 'left'
  },
  subtitle: {
    text: 'Comparing to results from Summer Olympics 2012 - Source: <a href="https://en.wikipedia.org/wiki/2016_Summer_Olympics_medal_table">Wikipedia</a>',
    align: 'left'
  },
  plotOptions: {
    series: {
      grouping: false,
      borderWidth: 0
    }
  },
  legend: {
    enabled: false
  },
  tooltip: {
    shared: true,
    headerFormat: '<span style="font-size: 15px">{point.point.name}</span><br/>',
    pointFormat: '<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y} medals</b><br/>'
  },
  xAxis: {
    type: 'category',
    accessibility: {
      description: 'Countries'
    },
    max: 4,
    labels: {
      useHTML: true,
      animate: true,
      formatter: ctx => {
        let flag;

        countries.forEach(function (country) {
          if (country.name === ctx.value) {
            flag = country.flag;
          }
        });

        return `${flag.toUpperCase()}<br><span class="f32">
          <span class="flag ${flag}"></span>
        </span>`;
      },
      style: {
        textAlign: 'center'
      }
    }
  },
  yAxis: [{
    title: {
      text: 'Gold medals'
    },
    showFirstLabel: false
  }],
  series: [{
    color: 'rgb(158, 159, 163)',
    pointPlacement: -0.2,
    linkedTo: 'main',
    data: dataPrev[2016].slice(),
    name: '2012'
  }, {
    name: '2016',
    id: 'main',
    dataSorting: {
      enabled: true,
      matchByName: true
    },
    dataLabels: [{
      enabled: true,
      inside: true,
      style: {
        fontSize: '16px'
      }
    }],
    data: getData(data[2016]).slice()
  }],
  exporting: {
    allowHTML: true
  }
});

const years = [2016, 2012, 2008, 2004, 2000];

years.forEach(year => {
  const btn = document.getElementById(year);

  btn.addEventListener('click', () => {

    document.querySelectorAll('.buttons button.active')
      .forEach(active => {
        active.className = '';
      });
    btn.className = 'active';

    chart.update({
      title: {
        text: `Summer Olympics ${year} - Top 5 countries by Gold medals`
      },
      subtitle: {
        text: 'Comparing to results from Summer Olympics ' +
          (year - 4) + ' - Source: <a href="https://en.wikipedia.org/wiki/' +
          (year) + '_Summer_Olympics_medal_table">Wikipedia</a>'
      },
      series: [{
        name: year - 4,
        data: dataPrev[year].slice()
      }, {
        name: year,
        data: getData(data[year]).slice()
      }]
    }, true, false, {
      duration: 800
    });
  });
});
</script>
</body>
</html>